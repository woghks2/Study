# **\[파이썬\] 백준 18244 : 변형 계단 수 (골드3)**
* https://www.acmicpc.net/problem/18244
<br>

---

## 문제
45656이란 수를 보자.

이 수는 인접한 모든 자릿수의 차이가 1이 난다. 이런 수를 계단 수라고 한다.

재현이는 계단 수에 조건을 하나 추가하여 변형 계단 수라고 부르려고 한다. 조건은 이러하다.

인접한 자릿수는 연속으로 3번 이상 증가하거나 감소할 수 없다.
예를 들어, 45656이란 수는 변형 계단 수이지만 45676은 4567에서 인접한 자릿수가 연속으로 3번 증가하였으므로 변형 계단 수가 아니다.

그럼, 오늘도 역시 세준이는 수의 길이가 N인 변형 계단 수가 몇 개 있는지 궁금해졌다.

N이 주어질 때, 길이가 N인 변형 계단 수가 총 몇 개 있는지 구하는 프로그램을 작성하시오. (변형 계단 수는 0으로 시작할 수 있다.)

### 입력
첫째 줄에 N이 주어진다. N은 1보다 크거나 같고, 100보다 작거나 같은 자연수이다.

### 출력
첫째 줄에 정답을 1,000,000,007으로 나눈 나머지를 출력한다.

<br>


---

### **풀이**

#### **방향성 생각**
* 초기 상태는 연속으로 몇 개 증가했는지 처리하기 애매하다.
* 연속 1개/2개 증가/감소로 총 4개로 나누고, 초기 상태를 하나 추가해서 5개 상태로 나누기.
* 5개 상태마다 i번째 수에서 숫자 j를 골랐을 때 값을 저장한다.

<br>


### **전체코드**
```python
N = int(input())
K = 10**9+7

# dp[상태][i번째 자리][숫자 j 선택]
dp = [[[0]*10 for _ in range(N)] for _ in range(5)]
dp[0][0] = [1]*10

for i in range(N-1):
    for j in range(10):
        for s in range(5): 
            
            if 1<=j<=9: # 1~9(j) 숫자는 0~8(j-1)에서 숫자가 들어온다
                if s == 1:
                    for ps in (0,3,4):
                        dp[1][i+1][j] += dp[ps][i][j-1]%K
                elif s == 2:
                    dp[2][i+1][j] += dp[1][i][j-1]%K
                    
            if 0<=j<=8: # 0~8(j) 숫자는 1~9(j+1)에서 숫자가 들어온다
                if s == 3:
                    for ps in (0,1,2):
                        dp[3][i+1][j] += dp[ps][i][j+1]%K
                elif s == 4:
                    dp[4][i+1][j] += dp[3][i][j+1]%K
                
print(sum(sum(dp[s][-1]) for s in range(5))%K)
```

#### **코멘트**

* 증감 한 번에 처리하지 않고 증가 방향, 감소 방향 나눠서 처리하는 방법도 생각하기.