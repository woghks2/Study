# **\[파이썬\] 백준 11505 : 구간 곱 구하기 (골드1)**

* [백준 11505 : 구간 곱 구하기](https://www.acmicpc.net/problem/11505)

---

## **풀이**

### **방향성 생각**

* 세그트리

* 구간 곱 진행할 때 MOD 쓰는 것 잊지말기

---

### **전체코드**

```python
import sys
input = lambda : sys.stdin.readline().strip()
MOD = 10**9+7

N,M,K = map(int,input().split())
arr = [int(input()) for _ in range(N)]
tree = [0]*(4*N)

def build(x,s,e):
    if s==e:
        tree[x] = arr[s]
        return tree[x]
    m = (s+e)//2
    lv = build(2*x+1,s,m)
    rv = build(2*x+2,m+1,e)
    tree[x] = (lv * rv) % MOD
    return tree[x]

def update(x,s,e,idx,val):
    if s==e:
        tree[x] = val
        return tree[x]
    m = (s+e)//2
    if idx<=m:
        lv = update(2*x+1,s,m,idx,val)
        rv = tree[2*x+2]
    else:
        lv = tree[2*x+1]
        rv = update(2*x+2,m+1,e,idx,val)
    tree[x] = (lv * rv) % MOD
    return tree[x]

def query(x,s,e,l,r):
    if r<s or e<l:
        return 1
    if l<=s and e<=r:
        return tree[x]
    m = (s+e)//2
    lv = query(2*x+1,s,m,l,r)
    rv = query(2*x+2,m+1,e,l,r)
    return (lv * rv) % MOD

build(0,0,N-1)

for _ in range(M+K):
    a,b,c = map(int,input().split())
    if a==1:
        update(0,0,N-1,b-1,c)
    else:
        print(query(0,0,N-1,b-1,c-1))
```

### **코멘트**

* 이진트리 개념을 잘 알고있으면 어렵지는 않다.

* 쿼리에서 범위 조건 같은거만 잘 이해하기.

* 어떤 쿼리의 요청 범위가 l r인데, 그 영역 안에 s,e가 포함되어 있으면 이미 정의된 값을 가져오면 된다.

* 기본적으로 세그트리 구현은 0-based로 구현하고, 쿼리만 처리를 하자.