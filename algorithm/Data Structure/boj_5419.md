# **\[파이썬\] 백준 5419 : 북서풍 (플레3)**

* [백준 5419 : 북서풍](https://www.acmicpc.net/problem/5419)

---

## **풀이**

### **방향성 생각**

* 값이 매우 크고, 상대적인 대소 관계만 중요하다.

* 또한 10억에 가까운 값들을 트리에 모두 저장하게 되면 MLE 발생.

* 좌표압축 이후 세그트리, 펜윅 사용하기.

---

### **전체코드**

```python
import sys
input = lambda : sys.stdin.readline().strip()

def update(x,diff):
    i = x
    while i<=size:
        fenwick[i] += diff
        i += i&(-i)

def query(x):
    i = x
    result = 0
    while i:
        result += fenwick[i]
        i -= i&(-i)
    return result

TC = int(input())
for _ in range(TC):
    N = int(input())
    arr = sorted([tuple(map(int,input().split())) for _ in range(N)],
                key = lambda x:(x[0],-x[1]))
    
    y_coord = sorted(set(y for _,y in arr), reverse=True)
    cvt_comp = {val:idx+1 for idx,val in enumerate(y_coord)}
    
    size = len(cvt_comp)
    fenwick = [0]*(size+1)
    
    answer = 0
    for x,y in arr:
        y_idx = cvt_comp[y]
        cnt = query(y_idx)
        answer += cnt
        update(y_idx,1)
    
    print(answer)
```

### **코멘트**

* 어렵다...