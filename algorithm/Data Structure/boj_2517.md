# **\[파이썬\] 백준 5419 : 북서풍 (플레3)**

* [백준 5419 : 북서풍](https://www.acmicpc.net/problem/5419)

---

## **풀이**

### **방향성 생각**

* 값이 매우 크고, 상대적인 대소 관계만 중요하다.

* 또한 10억에 가까운 값들을 트리에 모두 저장하게 되면 MLE 발생.

* 좌표압축 이후 세그트리, 펜윅 사용하기.

* 입력이 순차적으로 들어오므로, 자기보다 빠른 선수가 몇명인지 카운팅 하면 된다.

---

### **전체코드**

```python
import sys
input = lambda : sys.stdin.readline().strip()
INF = float('inf')
N = int(input())

arr = [INF] + [int(input()) for _ in range(N)]
fenwick = [0]*(N+1)
table = {val:idx for idx,val in enumerate(sorted(arr,reverse=True))}

def update(x,diff):
    i = x
    while i<=N:
        fenwick[i] += diff
        i += i&(-i)

def query(x):
    result = 0
    i = x
    while i:
        result += fenwick[i]
        i -= i&(-i)
    return result

for val in arr[1:]:
    idx = table[val]
    print(query(idx)+1)
    update(idx,1)
```

### **코멘트**

* 어렵다!