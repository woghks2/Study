# **\[파이썬\] 백준 1275 : 커피숍2 (골드1)**

* [백준 1275 : 커피숍](https://www.acmicpc.net/problem/1275)

---

## **풀이**

### **방향성 생각**

* 구간합 구하는데는 펜윅트리가 더 빠르다고 해서 펜윅트리로 풀이

* 누적합 쿼리를 실행한 후, 업데이트 쿼리를 실행하면 된다.

---

### **전체코드**

```python
import sys
input = lambda : sys.stdin.readline().strip()

N,Q = map(int,input().split())

arr = [0] + list(map(int,input().split()))
tree = [0]*(N+1)

def update(x,diff):
    i = x
    while i<=N:
        tree[i] += diff
        i += i&(-i)

def cumsum(x):
    result = 0
    i = x
    while i:
        result += tree[i]
        i -= i&(-i)
    return result

for i in range(1,N+1):
    update(i,arr[i])

for _ in range(Q):
    x,y,a,b = map(int,input().split())
    print(cumsum(max(x,y)) - cumsum(min(x,y)-1))
    diff = b - arr[a]
    arr[a] = b
    update(a,diff)
```

### **코멘트**

* 홀수들은 자기 자신 정보만

* 짝수들은 특정 구간합을 가지고 있다.

* [Reference](https://www.youtube.com/watch?v=fg2iGP4e2mc&ab_channel=%EB%8F%99%EB%B9%88%EB%82%98)

* 업데이트는 상위 노드(?)으로 전파해주기

* 누적합 같은 경우에는 0쪽으로 이동해주기